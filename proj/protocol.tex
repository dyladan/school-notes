% Created 2016-09-25 Sun 17:34
\documentclass[11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{fixltx2e}
\usepackage{graphicx}
\usepackage{longtable}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{rotating}
\usepackage[normalem]{ulem}
\usepackage{amsmath}
\usepackage{textcomp}
\usepackage{marvosym}
\usepackage{wasysym}
\usepackage{amssymb}
\usepackage{hyperref}
\tolerance=1000
\usepackage{listings}
\usepackage{courier}
\date{\today}
\title{Protocol Definition}
\hypersetup{
  pdfkeywords={},
  pdfsubject={},
  pdfcreator={Emacs 24.5.1 (Org mode 8.2.10)}}
\begin{document}

\maketitle
\tableofcontents


\section{Overview}
\label{sec-1}

\subsection{Client Actions}
\label{sec-1-1}

Clients will send messages to the server in the following format:

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "COMMANDNAME",
    "args": ["arg1", "arg2"]
}
\end{lstlisting}

\subsection{Server Actions}
\label{sec-1-2}

Clients will receive messages from the server in the following
format:

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "username",
    "command": "COMMANDNAME",
    "args": ["arg1", "arg2"],
    "timestamp": 1326439500 // Unix Timestamp
}
\end{lstlisting}


\section{WebSocket Protocol Definition}
\label{sec-2}

\subsection{Client Actions}
\label{sec-2-1}

\subsubsection{Message Actions}
\label{sec-2-1-1}

\begin{enumerate}
\item MSG - Send Message
\label{sec-2-1-1-1}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "MSG",
    "args": ["channel", "message text goes here"]
}
\end{lstlisting}

\item PRIVMSG - Send Private Message
\label{sec-2-1-1-2}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "PRIVMSG",
    "args": ["user", "message text"]
}
\end{lstlisting}
\end{enumerate}


\subsubsection{Channel Actions}
\label{sec-2-1-2}

\begin{enumerate}
\item JOIN - Join Channel
\label{sec-2-1-2-1}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "JOIN",
    "args": ["channel1", "channel2"] // any number of channels
}
\end{lstlisting}

\item PART - Leave Channel
\label{sec-2-1-2-2}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "PART",
    "args": ["channel1", "channel2"]
}
\end{lstlisting}

\item INVITE - Invite User to Channel
\label{sec-2-1-2-3}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "INVITE",
    "args": ["channel", "user1", "user2"] // any number of users
}
\end{lstlisting}

\item CHANLIST - List Channels on Server
\label{sec-2-1-2-4}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "CHANLIST",
    "args": []
}
\end{lstlisting}
\end{enumerate}
\subsubsection{User Actions}
\label{sec-2-1-3}

\begin{enumerate}
\item USER - Set Username
\label{sec-2-1-3-1}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "USER",
    "args": ["username"]
}
\end{lstlisting}

\item USERLIST - List Users on Server
\label{sec-2-1-3-2}
\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "USERLIST",
    "args": []
}
\end{lstlisting}
\end{enumerate}
\subsection{Server Actions}
\label{sec-2-2}

\subsubsection{Message Actions}
\label{sec-2-2-1}

\begin{enumerate}
\item MSG - Receive Message From a Channel
\label{sec-2-2-1-1}
\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "username",
    "command": "MSG",
    "args": ["channel", "message text goes here"]
    "timestamp": 1326439500 // Unix Timestamp
}
\end{lstlisting}

\item PRIVMSG - Receive Message From User
\label{sec-2-2-1-2}
\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "username",
    "command": "PRIVMSG",
    "args" ["user", "message text"]
    "timestamp": 1326439500 // unix timestamp
}
\end{lstlisting}
\end{enumerate}
\subsubsection{Channel Actions}
\label{sec-2-2-2}

\begin{enumerate}
\item JOIN - Someone Joined the Channel
\label{sec-2-2-2-1}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "anthony",
    "command": "JOIN",
    "args": ["channel1"]
    "timestamp": 1326439500 // Unix Timestamp
}
\end{lstlisting}

\item PART - Someone Left the Channel
\label{sec-2-2-2-2}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "username",
    "command": "PART",
    "args": ["channel"]
    "timestamp": 1326439500 // Unix Timestamp
}
\end{lstlisting}
\item CHANLIST - Enumerate Channels on Server
\label{sec-2-2-2-3}
\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "",
    "command": "CHANLIST",
    "args": ["chan1", "chan2"] // all channels on server
    "timestamp": 1326439500 // Unix Timestamp
}
\end{lstlisting}
\end{enumerate}

\subsubsection{USER Actions}
\label{sec-2-2-3}

\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "user": "",
    "command": "USERLIST",
    "args": ["user1", "user2"] // all users on server
    "timestamp": 1326439500 // Unix Timestamp
}
\end{lstlisting}

\subsubsection{ERROR}
\label{sec-2-2-4}
\lstset{language=js,label= ,caption= ,numbers=none}
\begin{lstlisting}
{
    "command": "ERROR",
    "args": ["error text"]
}
\end{lstlisting}
% Emacs 24.5.1 (Org mode 8.2.10)
\end{document}
